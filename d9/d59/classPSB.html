<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Beam Longitudinal Dynamics code (BLonD): PSB Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='../../open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='../../closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='../../closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="../../main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="../../annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>PSB Class Reference</h1><!-- doxytag: class="PSB" --><!-- doxytag: inherits="PhaseLoop" -->
<p><code>#include &lt;<a class="el" href="../../d3/d33/PhaseLoop_8h_source.html">PhaseLoop.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for PSB:</div>
<div class="dynsection">
<div class="center"><img src="../../d6/daa/classPSB__inherit__graph.png" border="0" usemap="#PSB_inherit__map" alt="Inheritance graph"/></div>
<map name="PSB_inherit__map" id="PSB_inherit__map">
<area shape="rect" id="node2" href="../../d6/d87/classPhaseLoop.html" title="{PhaseLoop\n|+ alpha\l+ delay\l+ domega_RF\l+ dphi\l+ drho\l+ noiseFB\l+ phi_beam\l+ reference\l+ RFnoise\l|+ PhaseLoop()\l+ PhaseLoop()\l+ ~PhaseLoop()\l+ beam_phase()\l+ default_track()\l+ phase_difference()\l+ radial_difference()\l+ radial_steering_from_freq()\l+ track()\l}" alt="" coords="5,5,192,368"/></map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for PSB:</div>
<div class="dynsection">
<div class="center"><img src="../../df/df7/classPSB__coll__graph.png" border="0" usemap="#PSB_coll__map" alt="Collaboration graph"/></div>
<map name="PSB_coll__map" id="PSB_coll__map">
<area shape="rect" id="node2" href="../../d6/d87/classPhaseLoop.html" title="{PhaseLoop\n|+ alpha\l+ delay\l+ domega_RF\l+ dphi\l+ drho\l+ noiseFB\l+ phi_beam\l+ reference\l+ RFnoise\l|+ PhaseLoop()\l+ PhaseLoop()\l+ ~PhaseLoop()\l+ beam_phase()\l+ default_track()\l+ phase_difference()\l+ radial_difference()\l+ radial_steering_from_freq()\l+ track()\l}" alt="" coords="277,1013,464,1376"/><area shape="rect" id="node4" href="../../d8/d2b/classLHCNoiseFB.html" title="{LHCNoiseFB\n|+ fA\l+ fBlMeas\l+ fBlMeasBBB\l+ fBlTarg\l+ fBunchPattern\l+ fFwhm\l+ fG\l+ fNUpdate\l+ fVariableGain\l+ fX\l&#45; cfwhm\l|+ LHCNoiseFB()\l+ ~LHCNoiseFB()\l+ fwhm_interpolation()\l+ fwhm_multi_bunch()\l+ fwhm_single_bunch()\l+ track()\l}" alt="" coords="291,550,448,895"/><area shape="rect" id="node23" href="../../da/dd4/classPhaseNoise.html" title="{PhaseNoise\n|+ fAi\l+ fCorr\l+ fDphi\l+ fFMax\l+ fFMin\l+ fFs\l+ fNTurns\l+ fPredistortion\l+ fSeed1\l+ fSeed2\l|+ PhaseNoise()\l+ ~PhaseNoise()\l+ generate()\l+ spectrum_generation()\l+ spectrum_to_phase_noise()\l}" alt="" coords="748,567,943,878"/><area shape="rect" id="node15" title="STL class." alt="" coords="791,157,905,243"/></map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>

<p><a href="../../da/db2/classPSB-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d59/classPSB.html#a44e9dad582106772d790bae5f79c92d5">PSB</a> (<a class="el" href="../../d2/d2c/configuration_8h.html#a8e81aff0c6ed859165a99e7685a6dace">f_vector_t</a> PL_gain, <a class="el" href="../../d2/d2c/configuration_8h.html#a8e81aff0c6ed859165a99e7685a6dace">f_vector_t</a> RL_gain=<a class="el" href="../../d2/d2c/configuration_8h.html#a8e81aff0c6ed859165a99e7685a6dace">f_vector_t</a>(), <a class="el" href="../../d2/d2c/configuration_8h.html#a004b8ff539eef02deec81922dd98257b">ftype</a> PL_period=0, <a class="el" href="../../d2/d2c/configuration_8h.html#a004b8ff539eef02deec81922dd98257b">ftype</a> RL_period=0, <a class="el" href="../../d2/d2c/configuration_8h.html#a8e81aff0c6ed859165a99e7685a6dace">f_vector_t</a> <a class="el" href="../../d9/d59/classPSB.html#a25a39ea1de2522560c2594571154ed4c">coefficients</a>=<a class="el" href="../../d2/d2c/configuration_8h.html#a8e81aff0c6ed859165a99e7685a6dace">f_vector_t</a>(), <a class="el" href="../../d2/d2c/configuration_8h.html#a004b8ff539eef02deec81922dd98257b">ftype</a> window_coefficient=0, <a class="el" href="../../da/dd4/classPhaseNoise.html">PhaseNoise</a> *phaseNoise=NULL, <a class="el" href="../../d8/d2b/classLHCNoiseFB.html">LHCNoiseFB</a> *<a class="el" href="../../d8/d2b/classLHCNoiseFB.html">LHCNoiseFB</a>=NULL, <a class="el" href="../../d2/d2c/configuration_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="el" href="../../d6/d87/classPhaseLoop.html#a9d4fb1c2b3f140dde1080ce509cb0f66">delay</a>=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d59/classPSB.html#a3a36437e80f1dca151f11b31172f60b3">~PSB</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d59/classPSB.html#a7606cb0136ac0cf990ca63711726fb5c">precalculate_time</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d59/classPSB.html#aaa22cc356f9de26a0eac4b2a1cc662a6">track</a> ()</td></tr>
<tr><td colspan="2"><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d2c/configuration_8h.html#a8e81aff0c6ed859165a99e7685a6dace">f_vector_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d59/classPSB.html#a25a39ea1de2522560c2594571154ed4c">coefficients</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d2c/configuration_8h.html#a004b8ff539eef02deec81922dd98257b">ftype</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d59/classPSB.html#a15dc7bf9daabf7bdc080c5b935671093">domega_PL</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d2c/configuration_8h.html#a004b8ff539eef02deec81922dd98257b">ftype</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d59/classPSB.html#a643c8450d93c9cae2ad56b0ebcdc0ba0">domega_RL</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d2c/configuration_8h.html#a004b8ff539eef02deec81922dd98257b">ftype</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d59/classPSB.html#a3a13c3619c55b94da12dd4df6287dc75">dphi_av</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d2c/configuration_8h.html#a004b8ff539eef02deec81922dd98257b">ftype</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d59/classPSB.html#af0b7f35bc8cbf621f2e6b5413fcc25ae">dphi_av_prev</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d2c/configuration_8h.html#a004b8ff539eef02deec81922dd98257b">ftype</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d59/classPSB.html#a6c1a31ec58921182e756ccd32cf47b7c">drho_prev</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d2c/configuration_8h.html#a8e81aff0c6ed859165a99e7685a6dace">f_vector_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d59/classPSB.html#a3fa9b0c14e1f070fba5e3fd27b7ff909">dt</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d2c/configuration_8h.html#a8e81aff0c6ed859165a99e7685a6dace">f_vector_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d59/classPSB.html#ac7604afb5e7f80b463be56d2879b5171">gain</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d2c/configuration_8h.html#a8e81aff0c6ed859165a99e7685a6dace">f_vector_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d59/classPSB.html#a82eeef5ae0ab7383a32f770856c1cabf">gain2</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d2c/configuration_8h.html#a1288353e74259a0fa4099f7af3cc6d8f">uint_vector_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d59/classPSB.html#aa819118a263ed668d8ac399e5370994f">on_time</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d2c/configuration_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d59/classPSB.html#ad30b4bf9272e3dae96b663967bef2bec">PL_counter</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d2c/configuration_8h.html#a004b8ff539eef02deec81922dd98257b">ftype</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d59/classPSB.html#a094effeefeb635e591da75d602ba0df7">t_accum</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>

<p>Definition at line <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00059">59</a> of file <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html">PhaseLoop.h</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a3a36437e80f1dca151f11b31172f60b3"></a><!-- doxytag: member="PSB::~PSB" ref="a3a36437e80f1dca151f11b31172f60b3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PSB::~PSB </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html#l00312">312</a> of file <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html">PhaseLoop.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00312"></a>00312 {}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a44e9dad582106772d790bae5f79c92d5"></a><!-- doxytag: member="PSB::PSB" ref="a44e9dad582106772d790bae5f79c92d5" args="(f_vector_t PL_gain, f_vector_t RL_gain=f_vector_t(), ftype PL_period=0, ftype RL_period=0, f_vector_t coefficients=f_vector_t(), ftype window_coefficient=0, PhaseNoise *phaseNoise=NULL, LHCNoiseFB *LHCNoiseFB=NULL, uint delay=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PSB::PSB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d2c/configuration_8h.html#a8e81aff0c6ed859165a99e7685a6dace">f_vector_t</a>&nbsp;</td>
          <td class="paramname"> <em>PL_gain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d2c/configuration_8h.html#a8e81aff0c6ed859165a99e7685a6dace">f_vector_t</a>&nbsp;</td>
          <td class="paramname"> <em>RL_gain</em> = <code><a class="el" href="../../d2/d2c/configuration_8h.html#a8e81aff0c6ed859165a99e7685a6dace">f_vector_t</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d2c/configuration_8h.html#a004b8ff539eef02deec81922dd98257b">ftype</a>&nbsp;</td>
          <td class="paramname"> <em>PL_period</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d2c/configuration_8h.html#a004b8ff539eef02deec81922dd98257b">ftype</a>&nbsp;</td>
          <td class="paramname"> <em>RL_period</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d2c/configuration_8h.html#a8e81aff0c6ed859165a99e7685a6dace">f_vector_t</a>&nbsp;</td>
          <td class="paramname"> <em>coefficients</em> = <code><a class="el" href="../../d2/d2c/configuration_8h.html#a8e81aff0c6ed859165a99e7685a6dace">f_vector_t</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d2c/configuration_8h.html#a004b8ff539eef02deec81922dd98257b">ftype</a>&nbsp;</td>
          <td class="paramname"> <em>window_coefficient</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/dd4/classPhaseNoise.html">PhaseNoise</a> *&nbsp;</td>
          <td class="paramname"> <em>phaseNoise</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d2b/classLHCNoiseFB.html">LHCNoiseFB</a> *&nbsp;</td>
          <td class="paramname"> <em>LHCNoiseFB</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d2c/configuration_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&nbsp;</td>
          <td class="paramname"> <em>delay</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html#l00256">256</a> of file <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html">PhaseLoop.cpp</a>.</p>

<p>References <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00029">PhaseLoop::alpha</a>, <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00028">PhaseLoop::delay</a>, <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00072">domega_PL</a>, <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00073">domega_RL</a>, <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00068">dphi_av</a>, <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00069">dphi_av_prev</a>, <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00070">drho_prev</a>, <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00064">dt</a>, <a class="el" href="../../d2/d6f/constants_8h_source.html#l00017">constant::e</a>, <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00063">gain</a>, <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00062">gain2</a>, <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00039">PhaseLoop::noiseFB</a>, <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00066">on_time</a>, <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00065">PL_counter</a>, <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html#l00377">precalculate_time()</a>, <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00038">PhaseLoop::RFnoise</a>, and <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00071">t_accum</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00258"></a>00258                                                                       {
<a name="l00259"></a>00259 
<a name="l00260"></a>00260     <span class="comment">// General Initializations</span>
<a name="l00261"></a>00261     this-&gt;<a class="code" href="../../d6/d87/classPhaseLoop.html#a9d4fb1c2b3f140dde1080ce509cb0f66">delay</a> = _delay;
<a name="l00262"></a>00262     this-&gt;<a class="code" href="../../d6/d87/classPhaseLoop.html#a51c7385c79bd152b362fb31dcb728ae2">alpha</a> = window_coefficient;
<a name="l00263"></a>00263     this-&gt;<a class="code" href="../../d9/d59/classPSB.html#ac7604afb5e7f80b463be56d2879b5171">gain</a> = PL_gain;
<a name="l00264"></a>00264     this-&gt;<a class="code" href="../../d6/d87/classPhaseLoop.html#ae7403a2c2ca509e90939edaf3ea6377b">RFnoise</a> = phaseNoise;
<a name="l00265"></a>00265     this-&gt;<a class="code" href="../../d6/d87/classPhaseLoop.html#a9346f7d58a2281b4f61572eca2481ada">noiseFB</a> = LHCNoiseFB;
<a name="l00266"></a>00266     <span class="comment">// End of general initializations</span>
<a name="l00267"></a>00267 
<a name="l00268"></a>00268     <span class="comment">// figure out what to do with these pairs</span>
<a name="l00269"></a>00269     this-&gt;<a class="code" href="../../d9/d59/classPSB.html#a82eeef5ae0ab7383a32f770856c1cabf">gain2</a>.resize(2); <span class="comment">// = new ftype[2];</span>
<a name="l00270"></a>00270     this-&gt;<a class="code" href="../../d9/d59/classPSB.html#a3fa9b0c14e1f070fba5e3fd27b7ff909">dt</a>.resize(2);    <span class="comment">// = new uint[2];</span>
<a name="l00271"></a>00271 
<a name="l00272"></a>00272     <span class="keywordflow">if</span> (_RL_gain.empty()) {
<a name="l00273"></a>00273         <a class="code" href="../../d9/d59/classPSB.html#a82eeef5ae0ab7383a32f770856c1cabf">gain2</a>[0] = 0;
<a name="l00274"></a>00274         <a class="code" href="../../d9/d59/classPSB.html#a82eeef5ae0ab7383a32f770856c1cabf">gain2</a>[1] = 0;
<a name="l00275"></a>00275     } <span class="keywordflow">else</span> {
<a name="l00276"></a>00276         <a class="code" href="../../d9/d59/classPSB.html#a82eeef5ae0ab7383a32f770856c1cabf">gain2</a>[0] = _RL_gain[0];
<a name="l00277"></a>00277         <a class="code" href="../../d9/d59/classPSB.html#a82eeef5ae0ab7383a32f770856c1cabf">gain2</a>[1] = _RL_gain[1];
<a name="l00278"></a>00278     }
<a name="l00279"></a>00279 
<a name="l00280"></a>00280     <span class="keywordflow">if</span> (_PL_period == 0)
<a name="l00281"></a>00281         <a class="code" href="../../d9/d59/classPSB.html#a3fa9b0c14e1f070fba5e3fd27b7ff909">dt</a>[0] = 10<a class="code" href="../../da/db5/namespaceconstant.html#ac8669eb61b1b2cb90269446e1b7e0ed2">e</a>-6;
<a name="l00282"></a>00282     <span class="keywordflow">else</span>
<a name="l00283"></a>00283         <a class="code" href="../../d9/d59/classPSB.html#a3fa9b0c14e1f070fba5e3fd27b7ff909">dt</a>[0] = _PL_period;
<a name="l00284"></a>00284 
<a name="l00285"></a>00285     <span class="keywordflow">if</span> (_RL_period == 0)
<a name="l00286"></a>00286         <a class="code" href="../../d9/d59/classPSB.html#a3fa9b0c14e1f070fba5e3fd27b7ff909">dt</a>[1] = 7;
<a name="l00287"></a>00287     <span class="keywordflow">else</span>
<a name="l00288"></a>00288         <a class="code" href="../../d9/d59/classPSB.html#a3fa9b0c14e1f070fba5e3fd27b7ff909">dt</a>[1] = _RL_period;
<a name="l00289"></a>00289 
<a name="l00290"></a>00290     this-&gt;<a class="code" href="../../d9/d59/classPSB.html#ad30b4bf9272e3dae96b663967bef2bec">PL_counter</a> = 1;
<a name="l00291"></a>00291     this-&gt;<a class="code" href="../../d9/d59/classPSB.html#aa819118a263ed668d8ac399e5370994f">on_time</a>.push_back(0);
<a name="l00292"></a>00292 
<a name="l00293"></a>00293     <a class="code" href="../../d9/d59/classPSB.html#a7606cb0136ac0cf990ca63711726fb5c">precalculate_time</a>();
<a name="l00294"></a>00294 
<a name="l00295"></a>00295     <span class="comment">// TODO coefficients</span>
<a name="l00296"></a>00296     <span class="comment">// How many can i have?</span>
<a name="l00297"></a>00297 
<a name="l00298"></a>00298     <span class="comment">//*Memory of previous phase correction, for phase loop.*</span>
<a name="l00299"></a>00299     <a class="code" href="../../d9/d59/classPSB.html#a3a13c3619c55b94da12dd4df6287dc75">dphi_av</a> = 0;
<a name="l00300"></a>00300     <a class="code" href="../../d9/d59/classPSB.html#af0b7f35bc8cbf621f2e6b5413fcc25ae">dphi_av_prev</a> = 0;
<a name="l00301"></a>00301     <span class="comment">//*Memory of previous relative radial correction, for rad loop.*</span>
<a name="l00302"></a>00302     <a class="code" href="../../d9/d59/classPSB.html#a6c1a31ec58921182e756ccd32cf47b7c">drho_prev</a> = 0;
<a name="l00303"></a>00303     <span class="comment">//*Accumulated time for radial loop*</span>
<a name="l00304"></a>00304     <a class="code" href="../../d9/d59/classPSB.html#a094effeefeb635e591da75d602ba0df7">t_accum</a> = 0;
<a name="l00305"></a>00305     <span class="comment">//*Phase loop frequency correction [1/s]*</span>
<a name="l00306"></a>00306     <a class="code" href="../../d9/d59/classPSB.html#a15dc7bf9daabf7bdc080c5b935671093">domega_PL</a> = 0;
<a name="l00307"></a>00307     <span class="comment">//*Radial loop frequency correction [1/s]*</span>
<a name="l00308"></a>00308     <a class="code" href="../../d9/d59/classPSB.html#a643c8450d93c9cae2ad56b0ebcdc0ba0">domega_RL</a> = 0;
<a name="l00309"></a>00309     <span class="comment">// domega_RF = 0;</span>
<a name="l00310"></a>00310 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="../../d9/d59/classPSB_a44e9dad582106772d790bae5f79c92d5_cgraph.png" border="0" usemap="#d9/d59/classPSB_a44e9dad582106772d790bae5f79c92d5_cgraph_map" alt=""></div>
<map name="d9/d59/classPSB_a44e9dad582106772d790bae5f79c92d5_cgraph_map" id="d9/d59/classPSB_a44e9dad582106772d790bae5f79c92d5_cgraph">
<area shape="rect" id="node3" href="../../d9/d59/classPSB.html#a7606cb0136ac0cf990ca63711726fb5c" title="PSB::precalculate_time" alt="" coords="140,5,297,35"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a7606cb0136ac0cf990ca63711726fb5c"></a><!-- doxytag: member="PSB::precalculate_time" ref="a7606cb0136ac0cf990ca63711726fb5c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PSB::precalculate_time </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html#l00377">377</a> of file <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html">PhaseLoop.cpp</a>.</p>

<p>References <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00028">PhaseLoop::delay</a>, <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00064">dt</a>, <a class="el" href="../../d5/d87/globals_8h_source.html#l00018">Context::GP</a>, and <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00066">on_time</a>.</p>

<p>Referenced by <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html#l00256">PSB()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00377"></a>00377                             {
<a name="l00378"></a>00378     <span class="comment">/*</span>
<a name="l00379"></a>00379 <span class="comment">     For machines like the PSB, where the PL acts only in certain time</span>
<a name="l00380"></a>00380 <span class="comment">     intervals, pre-calculate on which turns to act.</span>
<a name="l00381"></a>00381 <span class="comment">     */</span>
<a name="l00382"></a>00382     <span class="keyword">auto</span> GP = <a class="code" href="../../d6/d7a/structContext.html#a0a2469a256c098797644d0ec49a8e430">Context::GP</a>;
<a name="l00383"></a>00383 
<a name="l00384"></a>00384     <a class="code" href="../../d2/d2c/configuration_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> n = <a class="code" href="../../d6/d87/classPhaseLoop.html#a9d4fb1c2b3f140dde1080ce509cb0f66">delay</a> + 1;
<a name="l00385"></a>00385 
<a name="l00386"></a>00386     <span class="keywordflow">while</span> (n &lt; GP-&gt;t_rev.size()) {
<a name="l00387"></a>00387         <span class="keyword">auto</span> summa = 0.0;
<a name="l00388"></a>00388         <span class="keywordflow">while</span> (summa &lt; <a class="code" href="../../d9/d59/classPSB.html#a3fa9b0c14e1f070fba5e3fd27b7ff909">dt</a>[0]) {
<a name="l00389"></a>00389             <span class="keywordflow">if</span> (n &lt; GP-&gt;t_rev.size()) {
<a name="l00390"></a>00390                 summa += GP-&gt;t_rev[n];
<a name="l00391"></a>00391                 n++;
<a name="l00392"></a>00392             } <span class="keywordflow">else</span> {
<a name="l00393"></a>00393                 <a class="code" href="../../d9/d59/classPSB.html#aa819118a263ed668d8ac399e5370994f">on_time</a>.push_back(0);
<a name="l00394"></a>00394                 <span class="keywordflow">return</span>;
<a name="l00395"></a>00395             }
<a name="l00396"></a>00396         }
<a name="l00397"></a>00397         <a class="code" href="../../d9/d59/classPSB.html#aa819118a263ed668d8ac399e5370994f">on_time</a>.push_back(n - 1);
<a name="l00398"></a>00398     }
<a name="l00399"></a>00399 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="../../d9/d59/classPSB_a7606cb0136ac0cf990ca63711726fb5c_icgraph.png" border="0" usemap="#d9/d59/classPSB_a7606cb0136ac0cf990ca63711726fb5c_icgraph_map" alt=""></div>
<map name="d9/d59/classPSB_a7606cb0136ac0cf990ca63711726fb5c_icgraph_map" id="d9/d59/classPSB_a7606cb0136ac0cf990ca63711726fb5c_icgraph">
<area shape="rect" id="node3" href="../../d9/d59/classPSB.html#a44e9dad582106772d790bae5f79c92d5" title="PSB::PSB" alt="" coords="215,5,297,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aaa22cc356f9de26a0eac4b2a1cc662a6"></a><!-- doxytag: member="PSB::track" ref="aaa22cc356f9de26a0eac4b2a1cc662a6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PSB::track </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="../../d6/d87/classPhaseLoop.html#ac1ae735a3cf7a658dfdbb27668feda5f">PhaseLoop</a>.</p>

<p>Definition at line <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html#l00314">314</a> of file <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html">PhaseLoop.cpp</a>.</p>

<p>References <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html#l00015">PhaseLoop::beam_phase()</a>, <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html#l00142">PhaseLoop::default_track()</a>, <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00028">PhaseLoop::delay</a>, <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00072">domega_PL</a>, <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00032">PhaseLoop::domega_RF</a>, <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00073">domega_RL</a>, <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00036">PhaseLoop::dphi</a>, <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00068">dphi_av</a>, <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00069">dphi_av_prev</a>, <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00033">PhaseLoop::drho</a>, <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00070">drho_prev</a>, <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00064">dt</a>, <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00063">gain</a>, <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00062">gain2</a>, <a class="el" href="../../d5/d87/globals_8h_source.html#l00018">Context::GP</a>, <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00066">on_time</a>, <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html#l00065">PhaseLoop::phase_difference()</a>, <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00065">PL_counter</a>, <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00037">PhaseLoop::reference</a>, <a class="el" href="../../d5/d87/globals_8h_source.html#l00020">Context::RfP</a>, and <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00071">t_accum</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00314"></a>00314                 {
<a name="l00315"></a>00315     <span class="comment">/*</span>
<a name="l00316"></a>00316 <span class="comment">     Calculation of the PSB RF frequency correction from the phase difference</span>
<a name="l00317"></a>00317 <span class="comment">     between beam and RF (actual synchronous phase). The transfer function is</span>
<a name="l00318"></a>00318 <span class="comment"></span>
<a name="l00319"></a>00319 <span class="comment">     .. math::</span>
<a name="l00320"></a>00320 <span class="comment">     \\Delta \\omega_{RF} = g(t) \\frac{a_0 \\Delta\\Phi_{PL}^2 + a_1</span>
<a name="l00321"></a>00321 <span class="comment">     \\Delta\\Phi_{PL} + a_2 }{b_0 \\Delta\\Phi_{PL}^2 + b_1 \\Delta\\Phi_{PL} +</span>
<a name="l00322"></a>00322 <span class="comment">     b_2}</span>
<a name="l00323"></a>00323 <span class="comment"></span>
<a name="l00324"></a>00324 <span class="comment">     Input g through gain and [a_0, a_1, a_2, b_0, b_1, b_2] through</span>
<a name="l00325"></a>00325 <span class="comment">     coefficients.</span>
<a name="l00326"></a>00326 <span class="comment">     */</span>
<a name="l00327"></a>00327     <span class="keyword">auto</span> GP = <a class="code" href="../../d6/d7a/structContext.html#a0a2469a256c098797644d0ec49a8e430">Context::GP</a>;
<a name="l00328"></a>00328     <span class="keyword">auto</span> RfP = <a class="code" href="../../d6/d7a/structContext.html#a48db4fc5c2a199a0c1685dc11f5f0a6f">Context::RfP</a>;
<a name="l00329"></a>00329 
<a name="l00330"></a>00330     <span class="comment">// Average phase error while frequency is updated</span>
<a name="l00331"></a>00331     <a class="code" href="../../d2/d2c/configuration_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> counter = RfP-&gt;counter;
<a name="l00332"></a>00332 
<a name="l00333"></a>00333     <a class="code" href="../../d6/d87/classPhaseLoop.html#aa62e59a49e478864890f339e62b3b428">beam_phase</a>();
<a name="l00334"></a>00334     <a class="code" href="../../d6/d87/classPhaseLoop.html#a5c272e2d61820256ab38d422b4b59df5">phase_difference</a>();
<a name="l00335"></a>00335     <a class="code" href="../../d9/d59/classPSB.html#a3a13c3619c55b94da12dd4df6287dc75">dphi_av</a> += <a class="code" href="../../d6/d87/classPhaseLoop.html#a3c364e2b95c5ca1bc58ed62d04fc0edb">dphi</a>;
<a name="l00336"></a>00336     <a class="code" href="../../d9/d59/classPSB.html#a094effeefeb635e591da75d602ba0df7">t_accum</a> += GP-&gt;t_rev[counter];
<a name="l00337"></a>00337 
<a name="l00338"></a>00338     <span class="comment">// dprintf(&quot;Before if counter is %d\n&quot;, counter);</span>
<a name="l00339"></a>00339     <span class="comment">// Phase loop active on certain turns</span>
<a name="l00340"></a>00340 
<a name="l00341"></a>00341     <span class="keywordflow">if</span> (counter == <a class="code" href="../../d9/d59/classPSB.html#aa819118a263ed668d8ac399e5370994f">on_time</a>[<a class="code" href="../../d9/d59/classPSB.html#ad30b4bf9272e3dae96b663967bef2bec">PL_counter</a>] &amp;&amp; counter &gt; <a class="code" href="../../d6/d87/classPhaseLoop.html#a9d4fb1c2b3f140dde1080ce509cb0f66">delay</a>) {
<a name="l00342"></a>00342         <a class="code" href="../../d9/d59/classPSB.html#a3a13c3619c55b94da12dd4df6287dc75">dphi_av</a> /= (<a class="code" href="../../d9/d59/classPSB.html#aa819118a263ed668d8ac399e5370994f">on_time</a>[<a class="code" href="../../d9/d59/classPSB.html#ad30b4bf9272e3dae96b663967bef2bec">PL_counter</a>] - <a class="code" href="../../d9/d59/classPSB.html#aa819118a263ed668d8ac399e5370994f">on_time</a>[<a class="code" href="../../d9/d59/classPSB.html#ad30b4bf9272e3dae96b663967bef2bec">PL_counter</a> - 1]);
<a name="l00343"></a>00343 
<a name="l00344"></a>00344         <a class="code" href="../../d9/d59/classPSB.html#a15dc7bf9daabf7bdc080c5b935671093">domega_PL</a> = 0.998 * <a class="code" href="../../d9/d59/classPSB.html#a15dc7bf9daabf7bdc080c5b935671093">domega_PL</a> -
<a name="l00345"></a>00345                     <a class="code" href="../../d9/d59/classPSB.html#ac7604afb5e7f80b463be56d2879b5171">gain</a>[counter] * (<a class="code" href="../../d9/d59/classPSB.html#a3a13c3619c55b94da12dd4df6287dc75">dphi_av</a> - <a class="code" href="../../d9/d59/classPSB.html#af0b7f35bc8cbf621f2e6b5413fcc25ae">dphi_av_prev</a> + <a class="code" href="../../d6/d87/classPhaseLoop.html#aaaaa5c339315b5652727965d45ea1f34">reference</a>);
<a name="l00346"></a>00346 
<a name="l00347"></a>00347         <span class="comment">// Update averaging variables</span>
<a name="l00348"></a>00348         <a class="code" href="../../d9/d59/classPSB.html#af0b7f35bc8cbf621f2e6b5413fcc25ae">dphi_av_prev</a> = <a class="code" href="../../d9/d59/classPSB.html#a3a13c3619c55b94da12dd4df6287dc75">dphi_av</a>;
<a name="l00349"></a>00349         <a class="code" href="../../d9/d59/classPSB.html#a3a13c3619c55b94da12dd4df6287dc75">dphi_av</a> = 0;
<a name="l00350"></a>00350 
<a name="l00351"></a>00351         <span class="comment">// Add correction from radial loop</span>
<a name="l00352"></a>00352         <span class="keywordflow">if</span> (<a class="code" href="../../d9/d59/classPSB.html#ad30b4bf9272e3dae96b663967bef2bec">PL_counter</a> % static_cast&lt;int&gt;(<a class="code" href="../../d9/d59/classPSB.html#a3fa9b0c14e1f070fba5e3fd27b7ff909">dt</a>[1]) == 0) {
<a name="l00353"></a>00353 
<a name="l00354"></a>00354             <a class="code" href="../../d6/d87/classPhaseLoop.html#a9aedb020e9846e8b92c41b9e13557639">drho</a> = (RfP-&gt;omega_RF[0][counter] - RfP-&gt;omega_RF_d[0][counter]) /
<a name="l00355"></a>00355                        (RfP-&gt;omega_RF_d[0][counter] *
<a name="l00356"></a>00356                         (1 / (GP-&gt;alpha[0][0] * RfP-&gt;gamma(counter) *
<a name="l00357"></a>00357                               RfP-&gt;gamma(counter)) -
<a name="l00358"></a>00358                          1)) +
<a name="l00359"></a>00359                    <a class="code" href="../../d6/d87/classPhaseLoop.html#aaaaa5c339315b5652727965d45ea1f34">reference</a>;
<a name="l00360"></a>00360 
<a name="l00361"></a>00361             <a class="code" href="../../d9/d59/classPSB.html#a643c8450d93c9cae2ad56b0ebcdc0ba0">domega_RL</a> = <a class="code" href="../../d9/d59/classPSB.html#a643c8450d93c9cae2ad56b0ebcdc0ba0">domega_RL</a> - <a class="code" href="../../d9/d59/classPSB.html#a82eeef5ae0ab7383a32f770856c1cabf">gain2</a>[0] * (<a class="code" href="../../d6/d87/classPhaseLoop.html#a9aedb020e9846e8b92c41b9e13557639">drho</a> - <a class="code" href="../../d9/d59/classPSB.html#a6c1a31ec58921182e756ccd32cf47b7c">drho_prev</a>) -
<a name="l00362"></a>00362                         <a class="code" href="../../d9/d59/classPSB.html#a82eeef5ae0ab7383a32f770856c1cabf">gain2</a>[1] * <a class="code" href="../../d6/d87/classPhaseLoop.html#a9aedb020e9846e8b92c41b9e13557639">drho</a> * <a class="code" href="../../d9/d59/classPSB.html#a094effeefeb635e591da75d602ba0df7">t_accum</a>;
<a name="l00363"></a>00363 
<a name="l00364"></a>00364             <a class="code" href="../../d9/d59/classPSB.html#a6c1a31ec58921182e756ccd32cf47b7c">drho_prev</a> = <a class="code" href="../../d6/d87/classPhaseLoop.html#a9aedb020e9846e8b92c41b9e13557639">drho</a>;
<a name="l00365"></a>00365             <a class="code" href="../../d9/d59/classPSB.html#a094effeefeb635e591da75d602ba0df7">t_accum</a> = 0;
<a name="l00366"></a>00366         }
<a name="l00367"></a>00367 
<a name="l00368"></a>00368         <span class="comment">// Counter to pick the next time step when the PL will be active</span>
<a name="l00369"></a>00369         <a class="code" href="../../d9/d59/classPSB.html#ad30b4bf9272e3dae96b663967bef2bec">PL_counter</a>++;
<a name="l00370"></a>00370     }
<a name="l00371"></a>00371     <span class="comment">// Apply frequency correction</span>
<a name="l00372"></a>00372     <a class="code" href="../../d6/d87/classPhaseLoop.html#a5ac09c87fafb95b632967e5b37c72fcd">domega_RF</a> = <a class="code" href="../../d9/d59/classPSB.html#a15dc7bf9daabf7bdc080c5b935671093">domega_PL</a> + <a class="code" href="../../d9/d59/classPSB.html#a643c8450d93c9cae2ad56b0ebcdc0ba0">domega_RL</a>;
<a name="l00373"></a>00373 
<a name="l00374"></a>00374     <a class="code" href="../../d6/d87/classPhaseLoop.html#aa9249dc8c9d21f044065cd903929172f">default_track</a>();
<a name="l00375"></a>00375 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="../../d9/d59/classPSB_aaa22cc356f9de26a0eac4b2a1cc662a6_cgraph.png" border="0" usemap="#d9/d59/classPSB_aaa22cc356f9de26a0eac4b2a1cc662a6_cgraph_map" alt=""></div>
<map name="d9/d59/classPSB_aaa22cc356f9de26a0eac4b2a1cc662a6_cgraph_map" id="d9/d59/classPSB_aaa22cc356f9de26a0eac4b2a1cc662a6_cgraph">
<area shape="rect" id="node3" href="../../d6/d87/classPhaseLoop.html#aa62e59a49e478864890f339e62b3b428" title="PhaseLoop::beam_phase" alt="" coords="155,5,323,35"/><area shape="rect" id="node7" href="../../d6/d87/classPhaseLoop.html#aa9249dc8c9d21f044065cd903929172f" title="PhaseLoop::default_track" alt="" coords="153,59,324,88"/><area shape="rect" id="node9" href="../../d6/d87/classPhaseLoop.html#a5c272e2d61820256ab38d422b4b59df5" title="PhaseLoop::phase_difference" alt="" coords="141,112,336,141"/><area shape="rect" id="node5" href="../../df/d6d/namespacemymath.html#a1200810c96f55b2d85a3c505ec7732b6" title="mymath::trapezoid" alt="" coords="384,5,515,35"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a25a39ea1de2522560c2594571154ed4c"></a><!-- doxytag: member="PSB::coefficients" ref="a25a39ea1de2522560c2594571154ed4c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d2c/configuration_8h.html#a8e81aff0c6ed859165a99e7685a6dace">f_vector_t</a> <a class="el" href="../../d9/d59/classPSB.html#a25a39ea1de2522560c2594571154ed4c">PSB::coefficients</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00067">67</a> of file <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html">PhaseLoop.h</a>.</p>

</div>
</div>
<a class="anchor" id="a15dc7bf9daabf7bdc080c5b935671093"></a><!-- doxytag: member="PSB::domega_PL" ref="a15dc7bf9daabf7bdc080c5b935671093" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d2c/configuration_8h.html#a004b8ff539eef02deec81922dd98257b">ftype</a> <a class="el" href="../../d9/d59/classPSB.html#a15dc7bf9daabf7bdc080c5b935671093">PSB::domega_PL</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00072">72</a> of file <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html">PhaseLoop.h</a>.</p>

<p>Referenced by <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html#l00256">PSB()</a>, and <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html#l00314">track()</a>.</p>

</div>
</div>
<a class="anchor" id="a643c8450d93c9cae2ad56b0ebcdc0ba0"></a><!-- doxytag: member="PSB::domega_RL" ref="a643c8450d93c9cae2ad56b0ebcdc0ba0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d2c/configuration_8h.html#a004b8ff539eef02deec81922dd98257b">ftype</a> <a class="el" href="../../d9/d59/classPSB.html#a643c8450d93c9cae2ad56b0ebcdc0ba0">PSB::domega_RL</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00073">73</a> of file <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html">PhaseLoop.h</a>.</p>

<p>Referenced by <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html#l00256">PSB()</a>, and <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html#l00314">track()</a>.</p>

</div>
</div>
<a class="anchor" id="a3a13c3619c55b94da12dd4df6287dc75"></a><!-- doxytag: member="PSB::dphi_av" ref="a3a13c3619c55b94da12dd4df6287dc75" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d2c/configuration_8h.html#a004b8ff539eef02deec81922dd98257b">ftype</a> <a class="el" href="../../d9/d59/classPSB.html#a3a13c3619c55b94da12dd4df6287dc75">PSB::dphi_av</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00068">68</a> of file <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html">PhaseLoop.h</a>.</p>

<p>Referenced by <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html#l00256">PSB()</a>, and <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html#l00314">track()</a>.</p>

</div>
</div>
<a class="anchor" id="af0b7f35bc8cbf621f2e6b5413fcc25ae"></a><!-- doxytag: member="PSB::dphi_av_prev" ref="af0b7f35bc8cbf621f2e6b5413fcc25ae" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d2c/configuration_8h.html#a004b8ff539eef02deec81922dd98257b">ftype</a> <a class="el" href="../../d9/d59/classPSB.html#af0b7f35bc8cbf621f2e6b5413fcc25ae">PSB::dphi_av_prev</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00069">69</a> of file <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html">PhaseLoop.h</a>.</p>

<p>Referenced by <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html#l00256">PSB()</a>, and <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html#l00314">track()</a>.</p>

</div>
</div>
<a class="anchor" id="a6c1a31ec58921182e756ccd32cf47b7c"></a><!-- doxytag: member="PSB::drho_prev" ref="a6c1a31ec58921182e756ccd32cf47b7c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d2c/configuration_8h.html#a004b8ff539eef02deec81922dd98257b">ftype</a> <a class="el" href="../../d9/d59/classPSB.html#a6c1a31ec58921182e756ccd32cf47b7c">PSB::drho_prev</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00070">70</a> of file <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html">PhaseLoop.h</a>.</p>

<p>Referenced by <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html#l00256">PSB()</a>, and <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html#l00314">track()</a>.</p>

</div>
</div>
<a class="anchor" id="a3fa9b0c14e1f070fba5e3fd27b7ff909"></a><!-- doxytag: member="PSB::dt" ref="a3fa9b0c14e1f070fba5e3fd27b7ff909" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d2c/configuration_8h.html#a8e81aff0c6ed859165a99e7685a6dace">f_vector_t</a> <a class="el" href="../../d9/d59/classPSB.html#a3fa9b0c14e1f070fba5e3fd27b7ff909">PSB::dt</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00064">64</a> of file <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html">PhaseLoop.h</a>.</p>

<p>Referenced by <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html#l00377">precalculate_time()</a>, <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html#l00256">PSB()</a>, and <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html#l00314">track()</a>.</p>

</div>
</div>
<a class="anchor" id="ac7604afb5e7f80b463be56d2879b5171"></a><!-- doxytag: member="PSB::gain" ref="ac7604afb5e7f80b463be56d2879b5171" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d2c/configuration_8h.html#a8e81aff0c6ed859165a99e7685a6dace">f_vector_t</a> <a class="el" href="../../d9/d59/classPSB.html#ac7604afb5e7f80b463be56d2879b5171">PSB::gain</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00063">63</a> of file <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html">PhaseLoop.h</a>.</p>

<p>Referenced by <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html#l00256">PSB()</a>, and <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html#l00314">track()</a>.</p>

</div>
</div>
<a class="anchor" id="a82eeef5ae0ab7383a32f770856c1cabf"></a><!-- doxytag: member="PSB::gain2" ref="a82eeef5ae0ab7383a32f770856c1cabf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d2c/configuration_8h.html#a8e81aff0c6ed859165a99e7685a6dace">f_vector_t</a> <a class="el" href="../../d9/d59/classPSB.html#a82eeef5ae0ab7383a32f770856c1cabf">PSB::gain2</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00062">62</a> of file <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html">PhaseLoop.h</a>.</p>

<p>Referenced by <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html#l00256">PSB()</a>, and <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html#l00314">track()</a>.</p>

</div>
</div>
<a class="anchor" id="aa819118a263ed668d8ac399e5370994f"></a><!-- doxytag: member="PSB::on_time" ref="aa819118a263ed668d8ac399e5370994f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d2c/configuration_8h.html#a1288353e74259a0fa4099f7af3cc6d8f">uint_vector_t</a> <a class="el" href="../../d9/d59/classPSB.html#aa819118a263ed668d8ac399e5370994f">PSB::on_time</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00066">66</a> of file <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html">PhaseLoop.h</a>.</p>

<p>Referenced by <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html#l00377">precalculate_time()</a>, <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html#l00256">PSB()</a>, and <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html#l00314">track()</a>.</p>

</div>
</div>
<a class="anchor" id="ad30b4bf9272e3dae96b663967bef2bec"></a><!-- doxytag: member="PSB::PL_counter" ref="ad30b4bf9272e3dae96b663967bef2bec" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d2c/configuration_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="el" href="../../d9/d59/classPSB.html#ad30b4bf9272e3dae96b663967bef2bec">PSB::PL_counter</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00065">65</a> of file <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html">PhaseLoop.h</a>.</p>

<p>Referenced by <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html#l00256">PSB()</a>, and <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html#l00314">track()</a>.</p>

</div>
</div>
<a class="anchor" id="a094effeefeb635e591da75d602ba0df7"></a><!-- doxytag: member="PSB::t_accum" ref="a094effeefeb635e591da75d602ba0df7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d2c/configuration_8h.html#a004b8ff539eef02deec81922dd98257b">ftype</a> <a class="el" href="../../d9/d59/classPSB.html#a094effeefeb635e591da75d602ba0df7">PSB::t_accum</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html#l00071">71</a> of file <a class="el" href="../../d3/d33/PhaseLoop_8h_source.html">PhaseLoop.h</a>.</p>

<p>Referenced by <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html#l00256">PSB()</a>, and <a class="el" href="../../db/dee/PhaseLoop_8cpp_source.html#l00314">track()</a>.</p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 5 Sep 2016 for Beam Longitudinal Dynamics code (BLonD) by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
